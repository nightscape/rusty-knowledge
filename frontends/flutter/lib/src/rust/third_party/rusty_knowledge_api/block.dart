// This file is automatically generated, so please do not edit it.
// @generated by `flutter_rust_bridge`@ 2.11.1.

// ignore_for_file: invalid_use_of_internal_member, unused_import, unnecessary_import

import '../../frb_generated.dart';
import 'package:flutter_rust_bridge/flutter_rust_bridge_for_generated.dart';

// These types are ignored because they are neither used by any `pub` functions nor (for structs and enums) marked `#[frb(unignore)]`: `BlockWithDepth`
// These function are ignored because they are on traits that is not defined in current crate (put an empty `#[frb]` on it to unignore): `clone`, `clone`, `clone`, `eq`, `eq`, `eq`, `fmt`, `fmt`, `fmt`
// These functions are ignored (category: IgnoreBecauseExplicitAttribute): `depth`

/// A block in the hierarchical document structure.
///
/// Blocks use URI-based IDs to support integration with external systems:
/// - Local blocks: `local://<uuid-v4>` (e.g., `local://550e8400-e29b-41d4-a716-446655440000`)
/// - External systems: `todoist://task/12345`, `logseq://page/abc123`
///
/// # Example
///
/// ```rust
/// use holon_api::Block;
///
/// let block = Block {
///     id: "local://550e8400-e29b-41d4-a716-446655440000".to_string(),
///     parent_id: "parent_id".to_string(),
///     content: "My first block".to_string(),
///     children: vec![],
///     metadata: Default::default(),
/// };
/// ```
/// flutter_rust_bridge:non_opaque
class Block {
  /// URI-based unique identifier
  final String id;

  /// Parent block ID
  final String parentId;

  /// Text content of the block
  final String content;

  /// IDs of child blocks in display order
  final List<String> children;

  /// Block metadata (timestamps, etc.)
  final BlockMetadata metadata;

  const Block({
    required this.id,
    required this.parentId,
    required this.content,
    required this.children,
    required this.metadata,
  });

  @override
  int get hashCode =>
      id.hashCode ^
      parentId.hashCode ^
      content.hashCode ^
      children.hashCode ^
      metadata.hashCode;

  @override
  bool operator ==(Object other) =>
      identical(this, other) ||
      other is Block &&
          runtimeType == other.runtimeType &&
          id == other.id &&
          parentId == other.parentId &&
          content == other.content &&
          children == other.children &&
          metadata == other.metadata;
}

/// Metadata associated with a block.
///
/// Note: UI state like `collapsed` is NOT stored here - it's kept locally
/// in the frontend to avoid cross-user UI churn in collaborative sessions.
/// flutter_rust_bridge:non_opaque
class BlockMetadata {
  /// Unix timestamp (milliseconds) when block was created
  final PlatformInt64 createdAt;

  /// Unix timestamp (milliseconds) when block was last updated
  final PlatformInt64 updatedAt;

  const BlockMetadata({required this.createdAt, required this.updatedAt});

  static Future<BlockMetadata> default_() =>
      RustLib.instance.api.rustyKnowledgeApiBlockBlockMetadataDefault();

  @override
  int get hashCode => createdAt.hashCode ^ updatedAt.hashCode;

  @override
  bool operator ==(Object other) =>
      identical(this, other) ||
      other is BlockMetadata &&
          runtimeType == other.runtimeType &&
          createdAt == other.createdAt &&
          updatedAt == other.updatedAt;
}
